<div id="container">

  <div id="slide-panel" v-bind:class="{ shrunken: isPanelHidden}">
    <div id="layer-widgets">
      <button class="ui tiny color1 icon button"
              v-on:click="clickedShowHide">
              <i class="angle double icon"
              v-bind:class="{ left: isPanelHidden, right: !isPanelHidden}"></i>
      </button>
    </div>
  </div> 
  
  <div id="panel" v-bind:class="{ shrunken: isPanelHidden}">
    <div id="preheader">
      <table id="table-header">
        <tr>
          <td class='title'>Jobs Accessibility</td>
          <td>
            <a target="_blank" href="https://connectsf.org/">
              <img class="img-csf" src="https://connectsf.wpengine.com/wp-content/uploads/2016/07/connectsf-logo-color.png" alt="Connect SF">
            </a>
          </td>
        </tr>
      </table>
      
      <hr/>
      <div id="helpbar">
        <button class="ui mini right labeled icon color1 button"
                v-on:click="clickToggleHelp">
                <i class="help circle icon"></i>
                What is this?
        </button>
        &nbsp;
        <button class="ui mini right labeled icon color1 button"
                v-on:click="this.window.open('https://connectsf.org/','_blank')">
                <i class="arrow right icon"></i>
                Learn More
        </button>
        <hr/>
      </div>

      <div id="picker">
        <h5>CHOOSE SCENARIO</h5>
        <div>
          <button v-for="item in year_options"
                v-on:click="yrChanged(item.value)"
                class="ui tiny grey button"
                v-bind:class="{ active: item.value==selected_year, color2: item.value==selected_year }">
                ${item.text}
          </button>
        </div>
          
        <h5>CHOOSE MODE</h5>
        <div>
          <button v-for="item in metric_options"
                v-on:click="metricChanged(item.value)"
                class="ui tiny grey button"
                v-bind:class="{ active: item.value==selected_metric, color2: item.value==selected_metric }">
                ${item.text}
          </button>
        </div> 
        
        <hr/>

        <h5>MAP LAYERS</h5>
        <p>Add additional geographic data to the map.</p>
        <div v-for="item in extraLayers" class="ui toggle checkbox">
          <input type="checkbox" v-bind:value="item.view" v-model="addLayers">
          <label><h5>${item.name}
          <a class="icon" target="_blank" v-bind:href="item.info"><i v-if="item.info" class="question circle icon"></i></a>
          </h5></label>
        </div>

        <br><br>
        <h5>YOUR FEEDBACK:</h5>
        <form class="ui tiny equal width form" v-on:submit.prevent="handleSubmit">
          <div class="ui field">
            <textarea v-model="comment" class="fix" maxlength="200" rows="3"
            v-bind:disabled="submit_disabled==true"
            type="text" placeholder="Based on this data, what do you think are the city’s transportation needs? (800 characters)"></textarea>
          </div>
          <button class="ui button color2" type="submit"
          v-bind:class="{loading: submit_loading==true, disabled: submit_disabled==true}">Submit</button>
        </form>
      </div>
    </div>

    <div class="logo">
      <hr/>
      <a class="agency-link" target="_blank" href="http://www.sfcta.org">
        <img class="img-logo" src="/assets/SFCTA Logo dark-background.svg">
      </a>
    </div>
  </div>

  <div id="helpbox" v-if="showHelp" class="ui segment">
  <div v-cloak> <!-- hides everything until Vue finished loading -->
        <h2 style="margin-bottom:0px;">Jobs Accessibility</h2>
        <hr style="margin-bottom:5px;margin-top:5px"/>
          <b>This map shows</b> the average number of jobs that a San Francisco household can access within a 30-minute auto trip or a 45-minute transit trip. The jobs that can be accessed are <u>both</u> within and outside of San Francisco today and in the future.<br><br>
          
          <b>The big takeaway is</b> in both 2015 and 2050 neighborhoods closer to Downtown San Francisco have higher access to jobs by transit. Neighborhoods closer to Downtown and adjacent to freeways have the highest access to jobs by auto. By 2050, San Francisco residents on average continue to have access to many more jobs by auto than by transit. Also, the change in the average number of jobs accessible by transit is greater than the change in the number of jobs accessible by auto.<br><br>
          
          <b>The need identified is</b> for improvements to transit across the board to provide economic opportunity similar to auto.<br><br>
          
          <b>Disclaimers/Sources:</b>  Time periods of 30 and 45 minutes are used for auto and transit trips respectively because they represent the approximate average commute time for Bay Area residents by those modes. The jobs accessible are modeled in SFCTA’s travel model and represent the sum of all the jobs in the entire Bay Area accessible by travel mode and time threshold for a given San Francisco travel analysis zone.<br><br>


          <div style="margin-top:20px;">
            <button v-on:click="clickToggleHelp" class="small ui right floated teal button">
              &nbsp;OK&nbsp;
            </button>

            <button v-on:click="this.window.open('/assets/connectsf/jobacc.zip')"
                    class="small ui right labeled icon floated color1 button"
                    style="margin-right:5px">
                    <i class="icon download"></i>
                    Download data (.zip)
            </button>

            <button v-on:click="this.window.open('https://connectsf.org/','_blank')"
                    class="small ui right floated basic teal button"
                    style="margin-right:5px">
                    Learn more&hellip;
            </button>
          </div>
  </div>
  </div>

  <div id="sfmap"></div>

</div>
