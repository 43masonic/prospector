<div id="container">
  <div id="panel">
    
    <div id="preheader">
      <table id="table-header">
        <tr>
          <td class='title'>Trip Patterns</td>
          <td>
            <a target="_blank" href="https://connectsf.org/">
              <img class="img-csf" src="https://connectsf.wpengine.com/wp-content/uploads/2016/07/connectsf-logo-color.png" alt="Connect SF">
            </a>
          </td>
        </tr>
      </table>
    
      <hr/>
      
      <div id="helpbar">
        <button class="ui mini right labeled icon color1 button"
                v-on:click="clickToggleHelp">
                <i class="help circle icon"></i>
                What is this?
        </button>
        &nbsp;
        <button class="ui mini right labeled icon color1 button"
                v-on:click="this.window.open('https://connectsf.org/','_blank')">
                <i class="arrow right icon"></i>
                Learn More
        </button>
        <hr/>
      </div>

      <div id="picker">
        <h5>CHOOSE SCENARIO</h5>
        <div>
          <button v-for="item in year_options"
                v-on:click="yrChanged(item.value)"
                class="ui tiny grey button"
                v-bind:class="{ active: item.value==selected_year, color2: item.value==selected_year }">
                ${item.text}
          </button>
        </div>

        <h5>CHOOSE TRAVEL PURPOSE:</h5>
        <div>
          <button v-for="item in importance_options"
                v-on:click="importanceChanged(item.value)"
                class="ui tiny grey button"
                v-bind:class="{ active: item.value==selected_importance, color2: item.value==selected_importance }">
                ${item.text}
          </button>
        </div> 
          
        <h5>CHOOSE MODE OF TRAVEL:</h5>
        <div>
          <button v-for="item in metric_options"
                v-on:click="metricChanged(item.value)"
                class="ui mini grey button"
                style="margin-top:3px"
                v-bind:class="{ active: item.value==selected_metric, color2: item.value==selected_metric }">
                ${item.text}
          </button>
        </div> 

        <hr/>
        <h5>PROVIDE FEEDBACK:</h5>
        <form class="ui tiny equal width form" v-on:submit.prevent="handleSubmit">
          <div class="ui field">
            <textarea v-model="comment" class="fix" maxlength="200" rows="3"
            v-bind:disabled="submit_disabled==true"
            type="text" placeholder="Based on this data, what do you think are the cityâ€™s transportation needs? (800 characters)"></textarea>
          </div>
          <button class="ui button color2" type="submit"
          v-bind:class="{loading: submit_loading==true, disabled: submit_disabled==true}">Submit</button>
        </form>
      </div>
    </div>

    <hr/>
    <h5>REFERENCE MAP</h5>
    <div id="sfmap"></div>  

    <div class="logo">
      <hr/>
      <a class="agency-link" target="_blank" href="http://www.sfcta.org">
        <img class="img-logo" src="/assets/SFCTA Logo dark-background.svg">
      </a>
    </div>
  </div>

  <div id="helpbox" v-if="showHelp" class="ui segment">
    <div v-cloak> <!-- hides everything until Vue finished loading -->
          <h2 style="margin-bottom:0px;">Daily Trip-Making Patterns</h2>
          <hr style="margin-bottom:5px;margin-top:5px"/>
          <b>This map shows</b> patterns for where trips start and end. Thicker bands indicate that there are higher numbers of trips between two neighborhoods.<br><br>
          
          <b>The big takeaway is</b> by 2050 jobs and housing growth along the eastern half of San Francisco are projected to drive demand for more transit trips for work and school, with the greatest increases in both school and work trips going to the SoMa and Downtown. Regionally, the highest number of work-related trips on transit will originate from the East Bay and go to the northeast part of San Francisco.<br><br>
          
          <b>The need identified is</b> that there will be a need to control vehicular movement in Downtown and SOMA in particular in order to prevent increased congestion. Additional transportation investments will also need to be made to keep up with growing trip demands.<br><br>
          
          <b>Disclaimers/Sources:</b> Information for 2015 and 2050 is based on outputs from SFCTA travel model.<br><br>


          <div style="margin-top:20px;">
            <button v-on:click="clickToggleHelp" class="small ui right floated teal button">
              &nbsp;OK&nbsp;
            </button>

            <button v-on:click="this.window.open('/assets/connectsf/trippattern.zip')"
                    class="small ui right labeled icon floated color1 button"
                    style="margin-right:5px">
                    <i class="icon download"></i>
                    Download data (.zip)
            </button>

            <button v-on:click="this.window.open('https://connectsf.org/','_blank')"
                    class="small ui right floated basic teal button"
                    style="margin-right:5px">
                    Learn more&hellip;
            </button>
          </div>
    </div>
  </div>
  
  <div id="chart_placeholder"></div>
</div>
